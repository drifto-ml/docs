---
title: "CREATE MODEL"
---

`CREATE MODEL`: This statement allows you to invoke Driftoâ€™s autoML
capabilities. `CREATE MODEL` creates a new model that is stored in your model
registry with the given name. By default, Drifto uses an internal 
[MLflow](www.mlflow.org) instance, but can be configured to use an external 
instance as well. Like regular create statements, one should use 
`CREATE OR REPLACE MODEL` to overwrite an existing model with the same name.

The `SELECT` subquery in the create statement should return the full training 
dataset (held-out sets are automatically subsampled but can be manually specified 
as well). 

Each row in the dataset corresponds to one data point for ML training and 
each column is a feature. The `WITH` clause is optional but for ML training 
and each column is a feature. The `WITH` clause is optional but the target 
column to be called `target`.

### Syntax

```sql
CREATE MODEL <model> WITH (**kwargs) AS <SELECT>;
```

### Args

<ParamField query="target" type="column or literal" default="target">
  The name of the target column.
</ParamField>

<ParamField query="algo" type="column or literal" default="auto">
  The training algorithm. Options = `{'auto', 'gbm', 'linear', 'dnn'}`.
  The `'auto'` option selects an autoML routine that will try multiple
  different algorithms and hyperparameters and select the best one.
  The `'gbm'` option selects a gradient-boosting algorithm.
  The `'linear'` option selects a generalized linear model.
  The `'dnn'` option selects a fully-connected feed-forward deep neural net.
</ParamField>

<ParamField query="ensemble" type="bool" default="false">
  Allow autoML algorithm to generate model ensembles.
</ParamField>

<ParamField query="max_models" type="int" default="3">
  Number of models to search for in a training algorithm.
</ParamField>

<ParamField query="seed" type="int" default="1">
  Random seed to use.
</ParamField>

<ParamField query="num_folds" type="int" default="5">
  Number of cross validation folds to use. Default = 5.
</ParamField>


### Example

```sql
CREATE MODEL my_model 
WITH (target=y, max_models=10) 
AS SELECT * FROM mydata;
```

```sql
CREATE MODEL OR REPLACE my_other_model 
WITH (max_models=1, algo='linear') 
AS SELECT * FROM mydata;
```
